<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Moazzam All-in-One Tools - Free Internet Speed Test, Image to PDF, Compressor, QR Code, and more.">
    <title>Moazzam All-in-One Tools - Full Version</title>
    
    <!-- LIBRARIES (CDNs) - Internet chahiye load hone ke liye -->
    <!-- QR Code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Image Compression -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js"></script>

    <style>
        :root {
            --primary: #0066cc;
            --secondary: #004c99;
            --bg: #f0f2f5;
            --card: #ffffff;
            --text: #2d3436;
            --success: #00b894;
        }
        
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            color: var(--text);
            padding-bottom: 50px;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        header h1 { margin: 0; font-size: 2.2rem; }
        header p { opacity: 0.9; margin-top: 5px; }

        /* NAVIGATION */
        nav {
            display: flex;
            justify-content: center;
            background: white;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            flex-wrap: wrap;
            gap: 10px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav button {
            border: none;
            background: #eef2f7;
            padding: 10px 18px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            color: #555;
            transition: 0.3s;
            font-size: 0.9rem;
        }

        nav button:hover, nav button.active {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        /* CONTAINER */
        .container {
            max-width: 850px;
            margin: 2rem auto;
            padding: 0 15px;
        }

        .tool-section {
            display: none;
            background: var(--card);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            animation: fadeIn 0.4s;
        }
        .tool-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h2 { color: var(--primary); border-bottom: 2px solid #eee; padding-bottom: 15px; margin-top: 0; }

        /* FORMS */
        input[type="text"], input[type="number"], input[type="file"], textarea, select {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
        }

        button.action-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 14px;
            width: 100%;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            margin-top: 10px;
        }
        button.action-btn:hover { background-color: var(--secondary); }
        button.action-btn:disabled { background-color: #ccc; cursor: not-allowed; }

        /* SPECIFIC TOOLS */
        .result-box {
            background: #e8f5e9;
            color: #2d3436;
            padding: 15px;
            margin-top: 20px;
            border-radius: 6px;
            border-left: 5px solid var(--success);
            display: none;
            word-wrap: break-word;
        }

        /* Speed Test Styles */
        .gauge-container { text-align: center; margin: 20px 0; }
        .speed-value { font-size: 3rem; font-weight: bold; color: var(--primary); }
        .speed-unit { font-size: 1rem; color: #777; }

        /* Dashboard Grid */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 20px; }
        .card { 
            background: white; padding: 20px; border-radius: 10px; text-align: center; 
            border: 1px solid #eee; cursor: pointer; transition: 0.3s;
        }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); border-color: var(--primary); }
        .card-icon { font-size: 30px; display: block; margin-bottom: 10px; }

        footer { text-align: center; margin-top: 50px; color: #888; font-size: 0.9rem; }
    </style>
</head>
<body>

<header>
    <h1>Moazzam All-in-One Tools</h1>
    <p>Every Tool You Need. Fast, Free & Live.</p>
</header>

<nav>
    <button onclick="show('home')" class="active">üè† Home</button>
    <button onclick="show('speedtest')">üöÄ Speed Test</button>
    <button onclick="show('img2pdf')">üìÑ Img to PDF</button>
    <button onclick="show('compressor')">üóúÔ∏è Compressor</button>
    <button onclick="show('qrcode')">üì± QR Code</button>
    <button onclick="show('password')">üîê Password</button>
    <button onclick="show('wordcount')">üìù Word Count</button>
</nav>

<div class="container">

    <!-- HOME DASHBOARD -->
    <div id="home" class="tool-section active">
        <h2>Select a Tool</h2>
        <div class="grid">
            <div class="card" onclick="show('speedtest')"><span class="card-icon">üöÄ</span>Internet Speed</div>
            <div class="card" onclick="show('img2pdf')"><span class="card-icon">üìÑ</span>Image to PDF</div>
            <div class="card" onclick="show('compressor')"><span class="card-icon">üóúÔ∏è</span>Img Compressor</div>
            <div class="card" onclick="show('qrcode')"><span class="card-icon">üì±</span>QR Generator</div>
            <div class="card" onclick="show('password')"><span class="card-icon">üîê</span>Password Gen</div>
            <div class="card" onclick="show('converter')"><span class="card-icon">‚öñÔ∏è</span>Unit Converter</div>
            <div class="card" onclick="show('wordcount')"><span class="card-icon">üìù</span>Word Counter</div>
        </div>
    </div>

    <!-- 1. INTERNET SPEED TEST -->
    <div id="speedtest" class="tool-section">
        <h2>üöÄ Internet Speed Test</h2>
        <p>Check your WiFi or Mobile Data download speed instantly.</p>
        
        <div class="gauge-container">
            <div id="speedDisplay" class="speed-value">0.0</div>
            <div class="speed-unit">Mbps</div>
            <p id="speedStatus" style="color:#666; margin-top:10px;">Ready to start...</p>
        </div>

        <button class="action-btn" onclick="runSpeedTest()">Start Speed Test</button>
    </div>

    <!-- 2. IMAGE TO PDF -->
    <div id="img2pdf" class="tool-section">
        <h2>üìÑ Image to PDF Converter</h2>
        <p>Convert JPG/PNG images to PDF document. (Client-side, Private).</p>
        
        <input type="file" id="pdfImageInput" accept="image/*">
        <button class="action-btn" onclick="convertImgToPdf()">Download PDF</button>
        <div id="pdfResult" class="result-box">PDF Generated! Downloading...</div>
    </div>

    <!-- 3. IMAGE COMPRESSOR -->
    <div id="compressor" class="tool-section">
        <h2>üóúÔ∏è Image Compressor</h2>
        <p>Reduce image size (MB to KB) without uploading to server.</p>
        
        <input type="file" id="compressInput" accept="image/*">
        <div style="margin: 10px 0;">
            <label>Quality (0.1 = Low, 1.0 = High)</label>
            <input type="range" id="compQuality" min="0.1" max="1.0" step="0.1" value="0.6">
        </div>
        <button class="action-btn" onclick="compressImage()">Compress & Download</button>
        <div id="compResult" class="result-box"></div>
    </div>

    <!-- 4. QR CODE -->
    <div id="qrcode" class="tool-section">
        <h2>üì± QR Code Generator</h2>
        <input type="text" id="qrInput" placeholder="Enter Website URL or Text">
        <button class="action-btn" onclick="makeQR()">Generate QR</button>
        <div id="qrPlaceholder" style="margin-top:20px; display:flex; justify-content:center;"></div>
    </div>

    <!-- 5. PASSWORD GENERATOR -->
    <div id="password" class="tool-section">
        <h2>üîê Password Generator</h2>
        <input type="range" id="passLen" min="8" max="30" value="12" oninput="document.getElementById('lenTxt').innerText=this.value">
        <p>Length: <span id="lenTxt">12</span></p>
        <button class="action-btn" onclick="genPass()">Generate Password</button>
        <div id="passBox" class="result-box" onclick="navigator.clipboard.writeText(this.innerText); alert('Copied!')" style="cursor:pointer;"></div>
        <small>Click password to copy</small>
    </div>

    <!-- 6. WORD COUNTER -->
    <div id="wordcount" class="tool-section">
        <h2>üìù Word & Character Counter</h2>
        <textarea id="wordInput" rows="6" placeholder="Paste your text here..." oninput="countWords()"></textarea>
        <div style="display:flex; gap:20px; font-weight:bold; font-size:1.2rem; color:var(--primary);">
            <span>Words: <span id="wCount">0</span></span>
            <span>Characters: <span id="cCount">0</span></span>
        </div>
    </div>

    <!-- 7. UNIT CONVERTER (Hidden in menu, accessible via home) -->
    <div id="converter" class="tool-section">
        <h2>‚öñÔ∏è Unit Converter</h2>
        <input type="number" id="uInput" placeholder="Value">
        <select id="uFrom"><option value="m">Meter</option><option value="ft">Foot</option><option value="km">Km</option></select>
        <p style="text-align:center">TO</p>
        <select id="uTo"><option value="ft">Foot</option><option value="m">Meter</option><option value="km">Km</option></select>
        <button class="action-btn" onclick="convertU()">Convert</button>
        <div id="uResult" class="result-box"></div>
    </div>

</div>

<footer>
    &copy; 2025 Moazzam Tools. All tools run locally in your browser.
</footer>

<!-- JAVASCRIPT LOGIC -->
<script>
    // Navigation
    function show(id) {
        document.querySelectorAll('.tool-section').forEach(d => d.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active'); // Note: Works best when clicked directly
    }

    // --- 1. Speed Test (Simulation using Image Download) ---
    function runSpeedTest() {
        const display = document.getElementById('speedDisplay');
        const status = document.getElementById('speedStatus');
        status.innerText = "Testing download speed...";
        display.innerText = "0.0";
        
        const imageAddr = "https://upload.wikimedia.org/wikipedia/commons/3/3a/Cat03.jpg"; // Approx 1MB image
        const downloadSize = 1000000; // ~1MB in bytes (Approximation)
        const startTime = (new Date()).getTime();
        const cacheBuster = "?nnn=" + startTime;
        
        const download = new Image();
        download.onload = function () {
            const endTime = (new Date()).getTime();
            const duration = (endTime - startTime) / 1000; // seconds
            const bitsLoaded = downloadSize * 8;
            const speedBps = bitsLoaded / duration;
            const speedMbps = (speedBps / 1024 / 1024).toFixed(2);
            
            display.innerText = speedMbps;
            status.innerText = "Test Complete!";
        }
        
        download.onerror = function () {
            status.innerText = "Error connecting. Check internet.";
        }
        
        download.src = imageAddr + cacheBuster;
    }

    // --- 2. Image to PDF ---
    async function convertImgToPdf() {
        const { jsPDF } = window.jspdf;
        const input = document.getElementById('pdfImageInput');
        
        if (input.files.length === 0) {
            alert("Please select an image first!");
            return;
        }

        const file = input.files[0];
        const reader = new FileReader();

        reader.onload = function(event) {
            const imgData = event.target.result;
            const doc = new jsPDF();
            // Add image to PDF (x, y, width, height)
            // A4 size is roughly 210 x 297 mm
            doc.addImage(imgData, 'JPEG', 10, 10, 190, 0); 
            doc.save("moazzam-document.pdf");
            document.getElementById('pdfResult').style.display = 'block';
        };
        reader.readAsDataURL(file);
    }

    // --- 3. Image Compressor ---
    async function compressImage() {
        const fileInput = document.getElementById('compressInput');
        const quality = document.getElementById('compQuality').value;
        const resultBox = document.getElementById('compResult');

        if (fileInput.files.length === 0) return alert("Select an image!");

        const imageFile = fileInput.files[0];
        const options = {
            maxSizeMB: 1,
            maxWidthOrHeight: 1920,
            useWebWorker: true,
            initialQuality: parseFloat(quality)
        };

        try {
            resultBox.style.display = 'block';
            resultBox.innerText = "Compressing...";
            
            const compressedFile = await imageCompression(imageFile, options);
            
            // Create Download Link
            const link = document.createElement('a');
            link.href = URL.createObjectURL(compressedFile);
            link.download = `compressed-${imageFile.name}`;
            link.innerText = "Download Compressed Image";
            link.style.fontWeight = "bold";
            
            resultBox.innerHTML = `Original: ${(imageFile.size/1024).toFixed(1)}KB <br> 
                                   Compressed: <b style='color:green'>${(compressedFile.size/1024).toFixed(1)}KB</b><br><br>`;
            resultBox.appendChild(link);
            
        } catch (error) {
            console.log(error);
            resultBox.innerText = "Error compressing image.";
        }
    }

    // --- 4. QR Code ---
    function makeQR() {
        const txt = document.getElementById('qrInput').value;
        const place = document.getElementById('qrPlaceholder');
        place.innerHTML = "";
        if(!txt) return alert("Enter text!");
        new QRCode(place, { text: txt, width: 150, height: 150 });
    }

    // --- 5. Password ---
    function genPass() {
        const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";
        const len = document.getElementById('passLen').value;
        let pass = "";
        for(let i=0; i<len; i++) pass += chars.charAt(Math.floor(Math.random() * chars.length));
        const box = document.getElementById('passBox');
        box.style.display = 'block';
        box.innerText = pass;
    }

    // --- 6. Word Counter ---
    function countWords() {
        const txt = document.getElementById('wordInput').value;
        const charCount = txt.length;
        // Split by whitespace and filter empty strings
        const wordCount = txt.trim().split(/\s+/).filter(word => word.length > 0).length;
        
        document.getElementById('wCount').innerText = wordCount;
        document.getElementById('cCount').innerText = charCount;
    }

    // --- 7. Unit Converter ---
    function convertU() {
        const val = parseFloat(document.getElementById('uInput').value);
        const f = document.getElementById('uFrom').value;
        const t = document.getElementById('uTo').value;
        if(isNaN(val)) return;
        
        // Convert to meters first
        let m = 0;
        if(f==='m') m=val; else if(f==='km') m=val*1000; else if(f==='ft') m=val/3.28084;
        
        // Meter to Target
        let res = 0;
        if(t==='m') res=m; else if(t==='km') res=m/1000; else if(t==='ft') res=m*3.28084;
        
        const rBox = document.getElementById('uResult');
        rBox.style.display='block';
        rBox.innerText = `${val} ${f} = ${res.toFixed(4)} ${t}`;
    }
</script>

</body>
            </html>
